<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<h1 class="text-center">#{pMsg['cart.subject']}</h1>
	<div class="container">
		<h:form>
			<table>
				<tr>
					<td><h:outputLabel value="Họ và tên:" /></td>
					<td><h:inputText id="name"
							value="#{orderBean.order.customerName}"
							validator="InputTextEmptyValidator" /> <h:message for="name"
							style="color: red;" /></td>
				</tr>
				<tr>
					<td><h:outputLabel value="Địa chỉ:" /></td>
					<td><h:inputText id="address"
							value="#{orderBean.order.customerAddress}" required="true" /> <h:message
							for="address" style="color: red;" /></td>
				</tr>
				<tr>
					<td><h:outputLabel value="Số điện thoại:" /></td>
					<td><h:inputText id="phone"
							value="#{orderBean.order.customerPhone}" required="true" /> <h:message
							for="phone" style="color: red;" /></td>
				</tr>
				<tr>
					<td><h:outputLabel value="Email:" /></td>
					<td><h:inputText id="email" validator="EmailValidator"
							value="#{orderBean.order.customerEmail}" required="true" /> <h:message
							for="email" style="color: red;" /></td>
				</tr>
				<tr>
					<td><h:outputLabel value="Ngày order:" /></td>
					<td><h:inputText converter="DateConverter" 
							value="#{orderBean.order.orderDate}" required="true" /></td>
				</tr>
				<tr>
					<td><h:commandButton value="Đặt hàng" action="#{orderBean.order()}"
							 styleClass="btn btn-success" />
					</td>
				</tr>

			</table>

		</h:form>

		<h:dataTable id="cartTable" var="cart" value="#{cartBean.carts}" styleClass="table">
			<h:column>
				<f:facet name="header">#{pMsg['product.id']}</f:facet>
					#{cart['productId']}
				</h:column>
			<h:column>
				<f:facet name="header">#{pMsg['product.name']}</f:facet>
					#{cart['productName']}
				</h:column>
			<h:column>
				<f:facet name="header">#{pMsg['product.price']}</f:facet>
					#{cart['productPrice']}
				</h:column>
			<h:column>
				<f:facet name="header">#{pMsg['cart.count']}</f:facet>
					#{cart['count']}
				</h:column>
			<h:column>
				<f:facet name="header"></f:facet>
			</h:column>
		</h:dataTable>

		<h:form>
			<h3>Thêm sản phẩm</h3>
			<table>
				<tr>
					<td><h:outputLabel value="Nhập id sản phẩm:" /></td>
					<td><h:inputText value="#{cartBean.newProduct.id}" /></td>
				</tr>
				<tr>
					<td><h:commandButton action="#{cartBean.addItemToCartByProduct()}"
					value="Thêm" styleClass="btn btn-primary">
							<f:ajax render="cartTable bag_value"/>
						</h:commandButton></td>
				</tr>
			</table>
		</h:form>
	</div>
</ui:composition>